<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:MiniTCPTunnel.Client"
        x:Class="MiniTCPTunnel.Client.ServerSettingsWindow"
        x:DataType="vm:ServerSettingsViewModel"
        Width="520"
        Height="360"
        MinWidth="480"
        MinHeight="320"
        Title="서버 설정">
  <!--
    서버 설정 다이얼로그:
    - client.json의 server 섹션을 편집한다.
    - 입력값 검증 결과는 하단 상태 메시지로 표시한다.
  -->
  <DockPanel Margin="16">
    <StackPanel Spacing="12">
      <TextBlock Text="서버 접속 정보"
                 FontSize="16"
                 FontWeight="SemiBold"/>

      <StackPanel>
        <TextBlock Text="설정 파일"
                   FontSize="12"
                   Foreground="#64748B"/>
        <TextBlock Text="{Binding ConfigPath}"
                   FontSize="12"
                   TextWrapping="Wrap"/>
      </StackPanel>

      <StackPanel>
        <TextBlock Text="서버 호스트"
                   FontSize="12"
                   Foreground="#64748B"/>
        <TextBox Text="{Binding Host}"
                 Watermark="example.com 또는 127.0.0.1"/>
      </StackPanel>

      <StackPanel>
        <TextBlock Text="컨트롤 포트"
                   FontSize="12"
                   Foreground="#64748B"/>
        <TextBox Text="{Binding ControlPortText}"
                 Watermark="9000"/>
      </StackPanel>

      <StackPanel>
        <TextBlock Text="서버 공개키"
                   FontSize="12"
                   Foreground="#64748B"/>
        <TextBox Text="{Binding ServerPublicKey}"
                 Watermark="base64-ed25519-pubkey"/>
      </StackPanel>

      <TextBlock Text="{Binding StatusMessage}"
                 FontSize="12"
                 Foreground="#B91C1C"
                 TextWrapping="Wrap"/>
    </StackPanel>

    <StackPanel DockPanel.Dock="Bottom"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                Margin="0,16,0,0">
      <Button Content="취소"
              Click="OnCancelClick"/>
      <Button Content="저장"
              Margin="8,0,0,0"
              Click="OnSaveClick"/>
    </StackPanel>
  </DockPanel>
</Window>
